---
import Layout from '../../layouts/Layout.astro';
import { getCollection } from 'astro:content';
import BlogCard from '../../components/ui/blog-card.vue';
import BlogHeader from '../../components/ui/blog-header.vue';
// import { faker } from '@faker-js/faker';
const posts = await getCollection('blog');
// const randomPost = () => ({
//   data: {
//     title: faker.lorem.sentence(8),
//     author: faker.internet.displayName(),
//     date: faker.date.past({
//       years: 1,
//       refDate: new Date(),
//     }),
//   },
//   id: faker.string.uuid(),
// });
// const randomPosts = Array.from({ length: 10 }, () => randomPost());
// randomPosts.forEach((post) => {
//   posts.push(post);
// });
---

<Layout>
  <main
    class='container mx-auto px-4 md:px-0 py-8 flex flex-col md:flex-row gap-8 overflow-visible'>
    <div class='mt-1 w-full md:max-w-1/3'>
      <BlogHeader client:load title='Writing' />
    </div>
    <div class='w-full'>
      <ul class='text-lg md:text-xl font-medium flex flex-col gap-8'>
        {
          posts.map((post, index) => (
            <BlogCard
              client:load
              title={post.data.title}
              author={post.data.author}
              date={post.data.date}
              url={`/writing/${post.id}`}
              delay={index}
            />
          ))
        }
        <!-- {
          posts.map((post) => (
            <li class='pb-6 border-b border-neutral-300 flex flex-col gap-2'>
              <a href={`/writing/${post.id}`}>{post.data.title}</a>
              <time class='text-sm text-neutral-500'>{post.data}</time>
            </li>
          ))
        }
        {
          posts.map((post) => (
            <li class='pb-6 border-b border-neutral-300 flex flex-col gap-2'>
              <a href={`/writing/${post.id}`}>{post.data.title}</a>
              <time class='text-sm text-neutral-500'>{post.data}</time>
            </li>
          ))
        }
        {
          posts.map((post) => (
            <li class='pb-6 border-b border-neutral-300 flex flex-col gap-2'>
              <a href={`/writing/${post.id}`}>{post.data.title}</a>
              <time class='text-sm text-neutral-500'>{post.data}</time>
            </li>
          ))
        } -->
      </ul>
    </div>
  </main>
</Layout>
